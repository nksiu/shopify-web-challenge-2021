(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{57:function(e,t,n){},58:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var i=n(2),c=n(0),s=n(17),o=n.n(s),a=(n(57),n(42)),r=n(43),l=n(51),m=n(49),j=n(48),d=n(9),u=(n(58),n(14)),b=n(29),O=n(35),h="GET_MOVIES",x="ADD_NOMINATION",f="REMOVE_NOMINATION",v="NOMINATION_LIMIT",p=Object(u.b)(null,{getMovies:function(e){return function(t){return t({type:h,payload:e})}}})((function(e){var t=e.getMovies,n=Object(c.useState)(""),s=Object(O.a)(n,2),o=s[0],a=s[1];return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("h1",{children:"The Shoppies"}),Object(i.jsx)("input",{className:"form-control form-control-lg",type:"text",placeholder:"Movie Title",id:"inputLarge",onChange:function(e){a(e.target.value)},onKeyDown:function(e){13===e.keyCode&&t(o)}})]})})),N=n(30),g=n(23),y=n.n(g),I=n(78),D=n(31),T=function(e){return function(t){return t({type:x,payload:e})}},L=function(e){return function(t){return t({type:v,payload:e})}},S=n(25),_=n(34),w=function(e){var t=e.movieInfo;return Object(i.jsxs)("ul",{className:"list-group",children:[Object(i.jsxs)("li",{className:"list-group-item",children:[Object(i.jsx)("strong",{children:"Plot"}),": ",t.Plot]}),Object(i.jsxs)("li",{className:"list-group-item",children:[Object(i.jsx)("strong",{children:"Genre"}),": ",t.Genre]}),Object(i.jsxs)("li",{className:"list-group-item",children:[Object(i.jsx)("strong",{children:"Director"}),": ",t.Director]}),Object(i.jsxs)("li",{className:"list-group-item",children:[Object(i.jsx)("strong",{children:"Actors"}),": ",t.Actors]}),Object(i.jsxs)("li",{className:"list-group-item",children:[Object(i.jsx)("strong",{children:"Rated"}),": ",t.Rated]}),Object(i.jsxs)("li",{className:"list-group-item",children:[Object(i.jsx)("strong",{children:"Released"}),": ",t.Released]}),Object(i.jsxs)("li",{className:"list-group-item",children:[Object(i.jsx)("strong",{children:"Runtime"}),": ",t.Runtime]})]})};function E(){var e=Object(N.a)(["\n  query MovieInfoType($imdbID: String!){\n    movieInfo(imdbID: $imdbID){\n      Rated,\n      Released,\n      Runtime,\n      Genre,\n      Plot,\n      Actors,\n      Director\n    }\n  }\n"]);return E=function(){return e},e}var k=y()(E()),F=Object(u.b)(null,{addNomination:T,limitNomination:L})((function(e){var t,n=e.movie,s=e.nominations,o=e.addNomination,a=e.limitNomination,r=!1,l=Object(D.a)(s);try{for(l.s();!(t=l.n()).done;){if(t.value.imdbID===n.imdbID){r=!0;break}}}catch(b){l.e(b)}finally{l.f()}var m=Object(c.useState)(!1),j=Object(O.a)(m,2),d=j[0],u=j[1];return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("button",{type:"button",className:"btn btn-outline-info",onClick:function(){return u(!0)},style:{minWidth:"100px",marginTop:"30px"},children:"Details"}),Object(i.jsxs)(S.a,{show:d,onHide:function(){return u(!1)},size:"lg",children:[Object(i.jsx)(S.a.Header,{closeButton:!0,children:Object(i.jsx)(S.a.Title,{children:n.Title})}),Object(i.jsx)(S.a.Body,{children:Object(i.jsx)(I.a,{query:k,variables:{imdbID:n.imdbID},children:function(e){var t=e.loading,n=e.error,s=e.data;return t?Object(i.jsx)(_.a,{className:"mt-4",animation:"border",variant:"primary"}):(n&&console.log(n),Object(i.jsx)(c.Fragment,{children:s.movieInfo?Object(i.jsx)(w,{movieInfo:s.movieInfo}):Object(i.jsx)("p",{children:"Woops, looks like additional info for this movie cannot be found"})}))}})}),Object(i.jsx)(S.a.Footer,{children:Object(i.jsx)("button",{type:"button",className:"btn btn-outline-".concat(r?"secondary":"success"),onClick:function(e){e.preventDefault(),s.length<5?o(n):(a(!0),setTimeout((function(){a(!1)}),3e3))},disabled:r,style:{minWidth:"100px"},children:"Nominate"})})]})]})})),R=Object(u.b)((function(e){return{nominations:e.nominationList.nominations}}),{addNomination:T,limitNomination:L})((function(e){var t,n=e.movie,c=e.nominations,s=e.addNomination,o=e.limitNomination,a=!1,r=Object(D.a)(c);try{for(r.s();!(t=r.n()).done;){if(t.value.imdbID===n.imdbID){a=!0;break}}}catch(l){r.e(l)}finally{r.f()}return Object(i.jsx)(b.Fade,{bottom:!0,children:Object(i.jsx)("div",{className:"card card-body mb-1",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-md-2",children:Object(i.jsx)("img",{src:n.Poster,alt:"Movie Thumbnail",style:{display:"block",height:"auto",width:"80px",margin:"auto"}})}),Object(i.jsxs)("div",{className:"col-md-8",children:[Object(i.jsx)("h5",{children:n.Title}),Object(i.jsx)("p",{children:n.Year})]}),Object(i.jsxs)("div",{className:"col-md-2",children:[Object(i.jsx)("div",{className:"row align-items-start",children:Object(i.jsx)("button",{type:"button",className:"btn btn-outline-".concat(a?"secondary":"success"),onClick:function(e){e.preventDefault(),c.length<5?s(n):(o(!0),setTimeout((function(){o(!1)}),3e3))},disabled:a,style:{minWidth:"100px"},children:"Nominate"})}),Object(i.jsx)("div",{className:"row align-items-end",children:Object(i.jsx)(F,{movie:n,nominations:c})})]})]})})})}));function C(){var e=Object(N.a)(["\n  query GraphQLList($searchTitle: String!){\n    movies(searchTitle: $searchTitle){\n      Title,\n      Year,\n      imdbID,\n      Poster\n    }\n  }\n"]);return C=function(){return e},e}var M=y()(C()),A=Object(u.b)((function(e){return{movieList:e.movieList}}),null)((function(e){var t=e.movieList;return Object(i.jsx)(c.Fragment,{children:t.titleSearch?Object(i.jsx)(c.Fragment,{children:Object(i.jsx)(I.a,{query:M,variables:{searchTitle:t.titleSearch},children:function(e){var n=e.loading,s=e.error,o=e.data;return n?Object(i.jsx)(_.a,{className:"mt-4",animation:"border",variant:"primary"}):(s&&console.log(s),Object(i.jsxs)(c.Fragment,{children:[Object(i.jsxs)("h4",{className:"h1.display-4 my-3",children:['Results for "',t.titleSearch,'"',o.movies?Object(i.jsx)("span",{children:Object(i.jsxs)("small",{className:"form-text text-muted",children:["Matched with: ",o.movies.length," movies"]})}):null]}),o.movies?o.movies.map((function(e){return Object(i.jsx)(R,{movie:e},e.imdbID)})):Object(i.jsx)("p",{children:"Looks like there's no results..."})]}))}})}):null})})),P=Object(u.b)(null,{removeNomination:function(e){return function(t){return t({type:f,payload:e})}}})((function(e){var t=e.nomination,n=e.removeNomination;return Object(i.jsx)("li",{className:"list-group-item",children:Object(i.jsxs)("div",{className:"row align-items-center",children:[Object(i.jsxs)("div",{className:"col-md-10",children:[t.Title," (",t.Year,")"]}),Object(i.jsx)("div",{className:"col-md-2",children:Object(i.jsx)("button",{"data-id":t.imdbID,type:"button",className:"btn btn-outline-danger btn-sm",onClick:function(e){e.preventDefault(),n(t.imdbID)},children:"-"})})]})})})),X=Object(u.b)((function(e){return{nominations:e.nominationList.nominations}}),null)((function(e){var t=e.nominations;return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsxs)("h3",{className:"h1.display-4 my-3",children:["Nominations",Object(i.jsx)("span",{children:Object(i.jsx)("small",{className:"form-text text-muted",style:{fontSize:"1rem"},children:"Limit 5"})})]}),Object(i.jsx)("ul",{className:"list-group",children:t.map((function(e){return Object(i.jsx)(P,{nomination:e},e.imdbID)}))}),Object(i.jsxs)("small",{className:"form-text text-muted",children:["Nomination Count: ",Object(i.jsxs)("strong",{children:[t.length," out of 5"]})]})]})})),q=Object(u.b)((function(e){return{shouldLimit:e.nominationList.nominationLimit}}),{limitNomination:L})((function(e){var t=e.shouldLimit,n=e.limitNomination;return Object(i.jsxs)(c.Fragment,{children:[t?Object(i.jsx)(b.Fade,{top:!0,children:Object(i.jsxs)("div",{className:"alert alert-dismissible alert-warning",style:{position:"fixed",marginLeft:"40%",zIndex:100},children:[Object(i.jsx)("button",{type:"button",className:"close","data-dismiss":"alert",onClick:function(e){e.preventDefault(),n(!1)},children:"\xd7"}),"You can only have 5 nominations"]})}):null,Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-sm-1"}),Object(i.jsxs)("div",{className:"col-sm-6 col-md-7",children:[Object(i.jsx)(p,{}),Object(i.jsx)(A,{})]}),Object(i.jsx)("div",{className:"col-md-3",children:Object(i.jsx)(X,{})}),Object(i.jsx)("div",{className:"col-sm-1"})]})]})})),G=new j.a({uri:"/graphql"}),J=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(i.jsx)(d.a,{client:G,children:Object(i.jsx)(q,{})})}}]),n}(c.Component),V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),i(e),c(e),s(e),o(e)}))},B=n(21),W=n(47),Y={titleSearch:""},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{titleSearch:t.payload};default:return e}},z=n(22),U=n(50),H={nominations:JSON.parse(localStorage.getItem("movies"))||[],nominationLimit:!1},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:var n=[].concat(Object(U.a)(e.nominations),[t.payload]);return localStorage.setItem("movies",JSON.stringify(n)),Object(z.a)(Object(z.a)({},e),{},{nominations:n});case f:var i=e.nominations.filter((function(e){return e.imdbID!==t.payload}));return localStorage.setItem("movies",JSON.stringify(i)),Object(z.a)(Object(z.a)({},e),{},{nominations:i});case v:return Object(z.a)(Object(z.a)({},e),{},{nominationLimit:t.payload});default:return e}},Q=Object(B.c)({movieList:$,nominationList:K}),Z=[W.a],ee=Object(B.e)(Q,{},Object(B.d)(B.a.apply(void 0,Z),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),te=function(){return Object(i.jsx)(u.a,{store:ee,children:Object(i.jsx)(J,{})})};o.a.render(Object(i.jsx)(te,{}),document.getElementById("root")),V()}},[[75,1,2]]]);
//# sourceMappingURL=main.5c79e8bd.chunk.js.map